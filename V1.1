%make an algorithm that looks at the rolls on a yahtzee board and tells you the 
%next best move
%evaluate a dice roll and decide about rerolling
%2,2,2,4,6

%generates random set of 5 dice rolls
rolls = randi(6,5,1)

%checks if a certain number of elements are identical
function out = isNumSame(rolls, numAreSame)
  out = 0;
  for i = 1:6
    if(sum(rolls == i) == numAreSame)
      out = i;
      break
    endif
  endfor
endfunction

%checks if an element num exists
function out = searchRolls(rolls,num)
  out =false;
  for i=1:size(rolls,1)
    if(rolls(i,1) == num)
      out = true;
    endif
  endfor
endfunction

%scores upper section
function out = scoreSingles(rolls,num)
  out = num*sum(rolls == num);
endfunction

%scores chance section
function out = scoreChance(rolls)
  out = sum(rolls);
endfunction

%scores 3 of a kind and 4 of a kind
function out = scoreNumSame(rolls,num)
  out = 0;
  if(isNumSame(rolls,num)!=0)
    out = sum(rolls);
  endif
endfunction

%scores full house, a Yahtzee does not count
function out = scoreFullHouse(rolls)
  out = 0;
  if(isNumSame(rolls,2)!=0 && isNumSame(rolls,3)!=0)
    out = 25;
  endif
endfunction

%scores large and small straights based on length given
function out = scoreStraight(rolls,length)
  out = 0;
  if(length == 4)
    if(searchRolls(rolls,3) && searchRolls(rolls,4))
      fiveExists = searchRolls(rolls,5);
      twoExists = searchRolls(rolls,2);
      if(xor(fiveExists,twoExists))
        if(fiveExists && searchRolls(rolls,6))
          out = 30;
        endif
        if(twoExists&& searchRolls(rolls,1))
          out = 30;
        endif
      endif
      if(fiveExists && twoExists)
        out = 30;
      endif
    endif
  endif
  if(length == 5)
    if(searchRolls(rolls,2) && searchRolls(rolls,3) && searchRolls(rolls,4) && searchRolls(rolls,5))
      if(searchRolls(rolls,1) || searchRolls(rolls,6))
        out = 40;
      endif
    endif
  endif
endfunction

%scores yahtzee
function out = scoreYahtzee(rolls)
  out = 0;
  if(isNumSame(rolls,5) != 0)
    out = 50;
  endif
endfunction

%evaluates every single section on the yahtzee scoreboard
function out = catagoryApplies(rolls)
  for i  = 1:6
    scoreSingles(rolls,i)
  endfor
  scoreChance(rolls)
  scoreNumSame(rolls,3)
  scoreNumSame(rolls,4)
  scoreFullHouse(rolls)
  scoreStraight(rolls,4)
  scoreStraight(rolls,5)
  scoreYahtzee(rolls)
endfunction
